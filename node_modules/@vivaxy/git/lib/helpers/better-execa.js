"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * @since 2019-07-25 16:10
 * @author vivaxy
 */
const execa = require("execa");
async function betterExeca(bin, commands, { cwd, shell = false, stdio, }) {
    const childProcess = await execa(bin, commands, {
        cwd,
        reject: false,
        shell,
        stdio,
    });
    if (childProcess.exitCode !== 0) {
        throw new Error(childProcess.stderr);
    }
    return childProcess;
}
exports.default = betterExeca;
