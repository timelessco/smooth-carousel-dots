"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * @since 2020-02-19 02:30
 * @author vivaxy
 */
const helpers_1 = require("../helpers");
async function getStagedFiles({ cwd, }) {
    const { stdout } = await helpers_1.betterExeca('git', ['diff', '--cached', '--name-status'], { cwd });
    return stdout
        .split('\n')
        .filter(Boolean)
        .map(function (line) {
        const sec = line.split('\t');
        return {
            filename: sec[1],
            diffType: sec[0],
        };
    });
}
exports.default = getStagedFiles;
